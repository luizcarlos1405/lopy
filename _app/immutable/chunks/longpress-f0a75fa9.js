function a(e,r=400){let n,o;const i=()=>{clearTimeout(n)},c=t=>{const s=t.touches?t.touches[0]:t;let l={x:s.clientX,y:s.clientY},d=l.x-o.x,m=l.y-o.y;d*d+m*m>50&&clearTimeout(n)},u=t=>{const s=t.touches?t.touches[0]:t;o={x:s.clientX,y:s.clientY},n=setTimeout(()=>{e.dispatchEvent(new CustomEvent("longpress",{detail:{clientX:s.clientX,clientY:s.clientY}}))},r),e.addEventListener("mouseup",i),e.addEventListener("mousemove",c),e.addEventListener("touchend",i),e.addEventListener("touchmove",c)};return e.addEventListener("mousedown",u),e.addEventListener("touchstart",u),{update(t){r=t},destroy(){e.removeEventListener("mousedown",u),e.removeEventListener("mouseup",i),e.removeEventListener("mousemove",c)}}}export{a as l};
