import{a0 as J,S as Q,i as U,s as W,l as T,m as k,n as b,h as v,p as w,b as P,g as X,a1 as Y,a2 as $,d as ee,f as te,t as se,a as O,r as V,c as R,u as q,P as E,H as g,a3 as ae,R as ne,v as H,a4 as le,a5 as oe,a6 as ie,Z as re,a7 as ce,a8 as fe,T as de,E as _e}from"./index-2c5b7e63.js";import{f as x,D as A}from"./stores-6241235a.js";import{l as ue}from"./longpress-f0a75fa9.js";function C(c){const t=c-1;return t*t*t+1}function F(c,{delay:t=0,duration:e=400,easing:r=C,start:s=0,opacity:o=0}={}){const i=getComputedStyle(c),n=+i.opacity,a=i.transform==="none"?"":i.transform,l=1-s,h=n*(1-o);return{delay:t,duration:e,easing:r,css:(m,y)=>`
			transform: ${a} scale(${1-l*y});
			opacity: ${n-h*y}
		`}}function he(c,{from:t,to:e},r={}){const s=getComputedStyle(c),o=s.transform==="none"?"":s.transform,[i,n]=s.transformOrigin.split(" ").map(parseFloat),a=t.left+t.width*i/e.width-(e.left+i),l=t.top+t.height*n/e.height-(e.top+n),{delay:h=0,duration:m=p=>Math.sqrt(p)*120,easing:y=C}=r;return{delay:h,duration:J(m)?m(Math.sqrt(a*a+l*l)):m,easing:y,css:(p,u)=>{const I=u*a,D=u*l,S=p+u*t.width/e.width,M=p+u*t.height/e.height;return`transform: ${o} translate(${I}px, ${D}px) scale(${S}, ${M});`}}}function K(c,t,e){const r=c.slice();return r[3]=t[e],r}function Z(c){let t,e=c[3].comment+"",r;return{c(){t=T("div"),r=V(e),this.h()},l(s){t=k(s,"DIV",{class:!0});var o=b(t);r=q(o,e),o.forEach(v),this.h()},h(){w(t,"class","text-base opacity-80 leading-5")},m(s,o){P(s,t,o),g(t,r)},p(s,o){o&2&&e!==(e=s[3].comment+"")&&H(r,e)},d(s){s&&v(t)}}}function z(c,t){let e,r,s,o,i=x(t[3].value,{showSign:!1})+"",n,a,l,h=A.fromSeconds(t[3].date).toLocaleString(A.DATETIME_SHORT)+"",m,y,p,u,I,D=_e,S,M,L,f=t[3].comment&&Z(t);function G(){return t[2](t[3])}return{key:c,first:null,c(){e=T("div"),f&&f.c(),r=O(),s=T("div"),o=T("span"),n=V(i),a=O(),l=T("span"),m=V(h),y=O(),this.h()},l(_){e=k(_,"DIV",{class:!0});var d=b(e);f&&f.l(d),r=R(d),s=k(d,"DIV",{class:!0});var B=b(s);o=k(B,"SPAN",{class:!0});var N=b(o);n=q(N,i),N.forEach(v),a=R(B),l=k(B,"SPAN",{class:!0});var j=b(l);m=q(j,h),j.forEach(v),B.forEach(v),y=R(d),d.forEach(v),this.h()},h(){w(o,"class","font-mono font-semibold"),w(l,"class","opacity-80"),w(s,"class","flex justify-between text-xs"),w(e,"class","space-y-1 self-stretch rounded-3xl p-4 svelte-wmhmne"),E(e,"in",t[3].value>=0),E(e,"out",t[3].value<0),E(e,"selected",t[0][t[3]._id]),this.first=e},m(_,d){P(_,e,d),f&&f.m(e,null),g(e,r),g(e,s),g(s,o),g(o,n),g(s,a),g(s,l),g(l,m),g(e,y),S=!0,M||(L=[ae(ue.call(null,e,300)),ne(e,"longpress",G)],M=!0)},p(_,d){t=_,t[3].comment?f?f.p(t,d):(f=Z(t),f.c(),f.m(e,r)):f&&(f.d(1),f=null),(!S||d&2)&&i!==(i=x(t[3].value,{showSign:!1})+"")&&H(n,i),(!S||d&2)&&h!==(h=A.fromSeconds(t[3].date).toLocaleString(A.DATETIME_SHORT)+"")&&H(m,h),d&2&&E(e,"in",t[3].value>=0),d&2&&E(e,"out",t[3].value<0),d&3&&E(e,"selected",t[0][t[3]._id])},r(){I=e.getBoundingClientRect()},f(){le(e),D(),oe(e,I)},a(){D(),D=ie(e,I,he,{})},i(_){S||(_&&re(()=>{u&&u.end(1),p=ce(e,F,{easing:C}),p.start()}),S=!0)},o(_){p&&p.invalidate(),_&&(u=fe(e,F,{easing:C})),S=!1},d(_){_&&v(e),f&&f.d(),_&&u&&u.end(),M=!1,de(L)}}}function me(c){let t,e=[],r=new Map,s,o=c[1];const i=n=>n[3]._id;for(let n=0;n<o.length;n+=1){let a=K(c,o,n),l=i(a);r.set(l,e[n]=z(l,a))}return{c(){t=T("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=k(n,"DIV",{class:!0});var a=b(t);for(let l=0;l<e.length;l+=1)e[l].l(a);a.forEach(v),this.h()},h(){w(t,"class","flex w-full flex-col space-y-3")},m(n,a){P(n,t,a);for(let l=0;l<e.length;l+=1)e[l].m(t,null);s=!0},p(n,[a]){if(a&3){o=n[1],X();for(let l=0;l<e.length;l+=1)e[l].r();e=Y(e,a,i,1,n,o,r,t,$,z,null,K);for(let l=0;l<e.length;l+=1)e[l].a();ee()}},i(n){if(!s){for(let a=0;a<o.length;a+=1)te(e[a]);s=!0}},o(n){for(let a=0;a<e.length;a+=1)se(e[a]);s=!1},d(n){n&&v(t);for(let a=0;a<e.length;a+=1)e[a].d()}}}function pe(c,t,e){let{transactions:r=[]}=t,{selectedTransactionsById:s={}}=t;const o=i=>{if(!s[i._id]){e(0,s[i._id]=i,s);return}const{[i._id]:n,...a}=s;e(0,s=a)};return c.$$set=i=>{"transactions"in i&&e(1,r=i.transactions),"selectedTransactionsById"in i&&e(0,s=i.selectedTransactionsById)},[s,r,o]}class Se extends Q{constructor(t){super(),U(this,t,pe,me,W,{transactions:1,selectedTransactionsById:0})}}export{Se as E,F as s};
