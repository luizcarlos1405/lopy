import{S as M,i as A,s as G,N as V,O as q,n as p,h as u,p as t,b as J,H as r,E as P,l as d,w as K,a as I,r as O,m as f,x as Q,c as x,u as j,y as X,R as L,af as Y,f as Z,t as $,B as ee,T as te}from"../chunks/index-2c5b7e63.js";import{c as se}from"../chunks/notionStore-a2e2d424.js";import"../chunks/index-a5fb40b1.js";function ae(i){let e,o,a;return{c(){e=V("svg"),o=V("polyline"),this.h()},l(n){e=q(n,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var s=p(e);o=q(s,"polyline",{points:!0}),p(o).forEach(u),s.forEach(u),this.h()},h(){t(o,"points","15 18 9 12 15 6"),t(e,"xmlns","http://www.w3.org/2000/svg"),t(e,"width",i[0]),t(e,"height",i[0]),t(e,"fill","none"),t(e,"viewBox","0 0 24 24"),t(e,"stroke","currentColor"),t(e,"stroke-width",i[1]),t(e,"stroke-linecap","round"),t(e,"stroke-linejoin","round"),t(e,"class",a="feather feather-chevron-left "+i[2])},m(n,s){J(n,e,s),r(e,o)},p(n,[s]){s&1&&t(e,"width",n[0]),s&1&&t(e,"height",n[0]),s&2&&t(e,"stroke-width",n[1]),s&4&&a!==(a="feather feather-chevron-left "+n[2])&&t(e,"class",a)},i:P,o:P,d(n){n&&u(e)}}}function ne(i,e,o){let{size:a="100%"}=e,{strokeWidth:n=2}=e,{class:s=""}=e;return a!=="100%"&&(a=a.slice(-1)==="x"?a.slice(0,a.length-1)+"em":parseInt(a)+"px"),i.$$set=l=>{"size"in l&&o(0,a=l.size),"strokeWidth"in l&&o(1,n=l.strokeWidth),"class"in l&&o(2,s=l.class)},[a,n,s]}class oe extends M{constructor(e){super(),A(this,e,ne,ae,G,{size:0,strokeWidth:1,class:2})}}function re(i){let e,o,a,n,s,l,w,y,k,S,D,c,g,B,v,z,b,C,E,N,U;return a=new oe({props:{size:"30"}}),{c(){e=d("div"),o=d("button"),K(a.$$.fragment),n=I(),s=d("div"),l=d("h1"),w=O("These settings serve to connect to a notion page and are very experimental"),y=I(),k=d("p"),S=O(`The settings will disappear when you come back because they should be kept
      secret`),D=I(),c=d("form"),g=d("input"),B=I(),v=d("input"),z=I(),b=d("button"),C=O("Save"),this.h()},l(h){e=f(h,"DIV",{class:!0});var m=p(e);o=f(m,"BUTTON",{class:!0});var W=p(o);Q(a.$$.fragment,W),W.forEach(u),n=x(m),s=f(m,"DIV",{});var T=p(s);l=f(T,"H1",{class:!0});var F=p(l);w=j(F,"These settings serve to connect to a notion page and are very experimental"),F.forEach(u),y=x(T),k=f(T,"P",{class:!0});var H=p(k);S=j(H,`The settings will disappear when you come back because they should be kept
      secret`),H.forEach(u),T.forEach(u),D=x(m),c=f(m,"FORM",{class:!0});var _=p(c);g=f(_,"INPUT",{class:!0,name:!0,placeholder:!0,type:!0}),B=x(_),v=f(_,"INPUT",{class:!0,name:!0,placeholder:!0,type:!0}),z=x(_),b=f(_,"BUTTON",{class:!0,type:!0});var R=p(b);C=j(R,"Save"),R.forEach(u),_.forEach(u),m.forEach(u),this.h()},h(){t(o,"class","btn btn-ghost btn-circle btn-sm"),t(l,"class","text-2xl"),t(k,"class","text-sm"),t(g,"class","input"),t(g,"name","token"),t(g,"placeholder","Token"),t(g,"type","text"),t(v,"class","input"),t(v,"name","pageId"),t(v,"placeholder","Page ID"),t(v,"type","text"),t(b,"class","btn btn-primary self-end"),t(b,"type","submit"),t(c,"class","flex flex-col space-y-4"),t(e,"class","space-y-10 p-8 text-neutral-content")},m(h,m){J(h,e,m),r(e,o),X(a,o,null),r(e,n),r(e,s),r(s,l),r(l,w),r(s,y),r(s,k),r(k,S),r(e,D),r(e,c),r(c,g),r(c,B),r(c,v),r(c,z),r(c,b),r(b,C),E=!0,N||(U=[L(o,"click",i[0]),L(c,"submit",Y(i[1]))],N=!0)},p:P,i(h){E||(Z(a.$$.fragment,h),E=!0)},o(h){$(a.$$.fragment,h),E=!1},d(h){h&&u(e),ee(a),N=!1,te(U)}}}function le(i){return[()=>{window.history.back()},async a=>{const n=new FormData(a.target),s=Object.fromEntries(n);if(s.token&&s.pageId){localStorage.setItem("token",s.token),localStorage.setItem("pageId",s.pageId);const{transactionsDatabaseId:l,envelopesDatabaseId:w}=await fetch(`${se.apiEndpoint}notion-databases`,{headers:{pageId:s.pageId,authorization:s.token}}).then(async y=>await y.json());localStorage.setItem("transactionsDatabaseId",l),localStorage.setItem("envelopesDatabaseId",w),window.history.back()}}]}class he extends M{constructor(e){super(),A(this,e,le,re,G,{})}}export{he as default};
