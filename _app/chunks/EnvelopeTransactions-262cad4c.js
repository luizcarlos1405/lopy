var P=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var K=o=>typeof o=="symbol"?o:o+"",U=(o,t)=>{var e={};for(var s in o)Z.call(o,s)&&t.indexOf(s)<0&&(e[s]=o[s]);if(o!=null&&P)for(var s of P(o))t.indexOf(s)<0&&x.call(o,s)&&(e[s]=o[s]);return e};import{S as $,i as ee,s as te,e as g,k as M,t as j,c as y,a as T,m as R,h as q,d as h,b as k,a2 as p,g as N,H as u,R as ae,T as se,j as H,a6 as D,a9 as le,aa as ne,ab as ie,ac as oe,ad as re,ae as ce,V as fe,n as _e,U as de,af as ue,p as he,q as me,o as ve,N as pe,ag as ge,ah as z,ai as F}from"./vendor-c0a95dcb.js";import{f as G}from"./stores-2000987a.js";import{l as ye}from"./longpress-a7a6c534.js";function J(o,t,e){const s=o.slice();return s[3]=t[e],s}function Q(o){let t,e=o[3].comment+"",s;return{c(){t=g("div"),s=j(e),this.h()},l(a){t=y(a,"DIV",{class:!0});var r=T(t);s=q(r,e),r.forEach(h),this.h()},h(){k(t,"class","text-base opacity-80 leading-5")},m(a,r){N(a,t,r),u(t,s)},p(a,r){r&2&&e!==(e=a[3].comment+"")&&H(s,e)},d(a){a&&h(t)}}}function W(o,t){let e,s,a,r,c=G(t[3].value,{showSign:!1})+"",n,l,i,m=D.fromSeconds(t[3].date).toLocaleString(D.DATETIME_SHORT)+"",S,w,X,b,E,B,V=pe,v,A,O,f=t[3].comment&&Q(t);function Y(){return t[2](t[3])}return{key:o,first:null,c(){e=g("div"),f&&f.c(),s=M(),a=g("div"),r=g("span"),n=j(c),l=M(),i=g("span"),S=j(m),w=M(),this.h()},l(d){e=y(d,"DIV",{class:!0});var _=T(e);f&&f.l(_),s=R(_),a=y(_,"DIV",{class:!0});var I=T(a);r=y(I,"SPAN",{class:!0});var C=T(r);n=q(C,c),C.forEach(h),l=R(I),i=y(I,"SPAN",{class:!0});var L=T(i);S=q(L,m),L.forEach(h),I.forEach(h),w=R(_),_.forEach(h),this.h()},h(){k(r,"class","font-mono font-semibold"),k(i,"class","opacity-80"),k(a,"class","flex justify-between text-xs"),k(e,"class","space-y-1 self-stretch rounded-3xl p-4 svelte-2jtqs4"),p(e,"in",t[3].value>=0),p(e,"out",t[3].value<0),p(e,"selected",t[0][t[3]._id]),this.first=e},m(d,_){N(d,e,_),f&&f.m(e,null),u(e,s),u(e,a),u(a,r),u(r,n),u(a,l),u(a,i),u(i,S),u(e,w),v=!0,A||(O=[ae(X=ye.call(null,e,300)),se(e,"longpress",Y)],A=!0)},p(d,_){t=d,t[3].comment?f?f.p(t,_):(f=Q(t),f.c(),f.m(e,s)):f&&(f.d(1),f=null),(!v||_&2)&&c!==(c=G(t[3].value,{showSign:!1})+"")&&H(n,c),(!v||_&2)&&m!==(m=D.fromSeconds(t[3].date).toLocaleString(D.DATETIME_SHORT)+"")&&H(S,m),_&2&&p(e,"in",t[3].value>=0),_&2&&p(e,"out",t[3].value<0),_&3&&p(e,"selected",t[0][t[3]._id])},r(){B=e.getBoundingClientRect()},f(){le(e),V(),ne(e,B)},a(){V(),V=ie(e,B,ge,{})},i(d){v||(d&&oe(()=>{E&&E.end(1),b=re(e,F,{easing:z}),b.start()}),v=!0)},o(d){b&&b.invalidate(),d&&(E=ce(e,F,{easing:z})),v=!1},d(d){d&&h(e),f&&f.d(),d&&E&&E.end(),A=!1,fe(O)}}}function Te(o){let t,e=[],s=new Map,a,r=o[1];const c=n=>n[3]._id;for(let n=0;n<r.length;n+=1){let l=J(o,r,n),i=c(l);s.set(i,e[n]=W(i,l))}return{c(){t=g("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=y(n,"DIV",{class:!0});var l=T(t);for(let i=0;i<e.length;i+=1)e[i].l(l);l.forEach(h),this.h()},h(){k(t,"class","flex w-full flex-col space-y-3")},m(n,l){N(n,t,l);for(let i=0;i<e.length;i+=1)e[i].m(t,null);a=!0},p(n,[l]){if(l&3){r=n[1],_e();for(let i=0;i<e.length;i+=1)e[i].r();e=de(e,l,c,1,n,r,s,t,ue,W,null,J);for(let i=0;i<e.length;i+=1)e[i].a();he()}},i(n){if(!a){for(let l=0;l<r.length;l+=1)me(e[l]);a=!0}},o(n){for(let l=0;l<e.length;l+=1)ve(e[l]);a=!1},d(n){n&&h(t);for(let l=0;l<e.length;l+=1)e[l].d()}}}function ke(o,t,e){let{transactions:s=[]}=t,{selectedTransactionsById:a={}}=t;const r=c=>{var i;if(!a[c._id]){e(0,a[c._id]=c,a);return}const m=a,{[i=c._id]:n}=m,l=U(m,[K(i)]);e(0,a=l)};return o.$$set=c=>{"transactions"in c&&e(1,s=c.transactions),"selectedTransactionsById"in c&&e(0,a=c.selectedTransactionsById)},[a,s,r]}class De extends ${constructor(t){super();ee(this,t,ke,Te,te,{transactions:1,selectedTransactionsById:0})}}export{De as E};
