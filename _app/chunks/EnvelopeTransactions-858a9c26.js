var G=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var J=o=>typeof o=="symbol"?o:o+"",Q=(o,t)=>{var e={};for(var s in o)ie.call(o,s)&&t.indexOf(s)<0&&(e[s]=o[s]);if(o!=null&&G)for(var s of G(o))t.indexOf(s)<0&&oe.call(o,s)&&(e[s]=o[s]);return e};import{S as re,i as ce,s as fe,e as v,k as A,t as R,c as g,a as b,m as B,h as j,d as h,b as k,a0 as S,g as H,H as m,T as _e,M as ue,j as C,_ as M,q as V,a1 as te,a9 as W,a6 as q,n as ae,o as z,p as se,aa as de,ab as he,ac as me,a2 as pe,ad as X,ae as ve,V as ge,U as be,af as ke,L as Ee,ag as Se}from"./vendor-b7281c58.js";import{f as Y}from"./Page-5cb672c4.js";import{l as Te}from"./longpress-a7a6c534.js";function Z(o,t,e){const s=o.slice();return s[3]=t[e],s}function x(o){let t,e=o[3].comment+"",s;return{c(){t=v("div"),s=R(e),this.h()},l(a){t=g(a,"DIV",{class:!0});var r=b(t);s=j(r,e),r.forEach(h),this.h()},h(){k(t,"class","text-base")},m(a,r){H(a,t,r),m(t,s)},p(a,r){r&2&&e!==(e=a[3].comment+"")&&C(s,e)},d(a){a&&h(t)}}}function $(o){let t,e,s;return{c(){t=v("span"),this.h()},l(a){t=g(a,"SPAN",{class:!0}),b(t).forEach(h),this.h()},h(){k(t,"class","bg-background absolute right-2 top-2 w-4 h-4 rounded-full")},m(a,r){H(a,t,r),s=!0},i(a){s||(te(()=>{e||(e=W(t,q,{},!0)),e.run(1)}),s=!0)},o(a){e||(e=W(t,q,{},!1)),e.run(0),s=!1},d(a){a&&h(t),a&&e&&e.end()}}}function ee(o,t){let e,s,a,r,f=Y(t[3].value,{showSign:!1})+"",n,l,i,p=M.fromSeconds(t[3].date).toLocaleString(M.DATETIME_SHORT)+"",y,L,I,le,w,T,N,O=Ee,E,P,K,u=t[3].comment&&x(t),c=t[0][t[3]._id]&&$();function ne(){return t[2](t[3])}return{key:o,first:null,c(){e=v("div"),u&&u.c(),s=A(),a=v("div"),r=v("span"),n=R(f),l=A(),i=v("span"),y=R(p),L=A(),c&&c.c(),I=A(),this.h()},l(d){e=g(d,"DIV",{class:!0});var _=b(e);u&&u.l(_),s=B(_),a=g(_,"DIV",{class:!0});var D=b(a);r=g(D,"SPAN",{class:!0});var U=b(r);n=j(U,f),U.forEach(h),l=B(D),i=g(D,"SPAN",{class:!0});var F=b(i);y=j(F,p),F.forEach(h),D.forEach(h),L=B(_),c&&c.l(_),I=B(_),_.forEach(h),this.h()},h(){k(r,"class","font-mono font-semibold"),k(i,"class","opacity-70"),k(a,"class","flex justify-between text-sm"),k(e,"class","p-4 rounded-3xl space-y-2 self-stretch svelte-13nzmhq"),S(e,"in",t[3].value>=0),S(e,"out",t[3].value<0),S(e,"selected",t[0][t[3]._id]),this.first=e},m(d,_){H(d,e,_),u&&u.m(e,null),m(e,s),m(e,a),m(a,r),m(r,n),m(a,l),m(a,i),m(i,y),m(e,L),c&&c.m(e,null),m(e,I),E=!0,P||(K=[_e(le=Te.call(null,e,300)),ue(e,"longpress",ne)],P=!0)},p(d,_){t=d,t[3].comment?u?u.p(t,_):(u=x(t),u.c(),u.m(e,s)):u&&(u.d(1),u=null),(!E||_&2)&&f!==(f=Y(t[3].value,{showSign:!1})+"")&&C(n,f),(!E||_&2)&&p!==(p=M.fromSeconds(t[3].date).toLocaleString(M.DATETIME_SHORT)+"")&&C(y,p),t[0][t[3]._id]?c?_&3&&V(c,1):(c=$(),c.c(),V(c,1),c.m(e,I)):c&&(ae(),z(c,1,1,()=>{c=null}),se()),_&2&&S(e,"in",t[3].value>=0),_&2&&S(e,"out",t[3].value<0),_&3&&S(e,"selected",t[0][t[3]._id])},r(){N=e.getBoundingClientRect()},f(){de(e),O(),he(e,N)},a(){O(),O=me(e,N,Se,{})},i(d){E||(V(c),d&&te(()=>{T&&T.end(1),w=pe(e,q,{easing:X}),w.start()}),E=!0)},o(d){z(c),w&&w.invalidate(),d&&(T=ve(e,q,{easing:X})),E=!1},d(d){d&&h(e),u&&u.d(),c&&c.d(),d&&T&&T.end(),P=!1,ge(K)}}}function ye(o){let t,e=[],s=new Map,a,r=o[1];const f=n=>n[3]._id;for(let n=0;n<r.length;n+=1){let l=Z(o,r,n),i=f(l);s.set(i,e[n]=ee(i,l))}return{c(){t=v("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=g(n,"DIV",{class:!0});var l=b(t);for(let i=0;i<e.length;i+=1)e[i].l(l);l.forEach(h),this.h()},h(){k(t,"class","flex flex-col space-y-2 w-full p-4")},m(n,l){H(n,t,l);for(let i=0;i<e.length;i+=1)e[i].m(t,null);a=!0},p(n,[l]){if(l&3){r=n[1],ae();for(let i=0;i<e.length;i+=1)e[i].r();e=be(e,l,f,1,n,r,s,t,ke,ee,null,Z);for(let i=0;i<e.length;i+=1)e[i].a();se()}},i(n){if(!a){for(let l=0;l<r.length;l+=1)V(e[l]);a=!0}},o(n){for(let l=0;l<e.length;l+=1)z(e[l]);a=!1},d(n){n&&h(t);for(let l=0;l<e.length;l+=1)e[l].d()}}}function Ie(o,t,e){let{transactions:s=[]}=t,{selectedTransactionsById:a={}}=t;const r=f=>{var i;if(!a[f._id]){e(0,a[f._id]=f,a);return}const p=a,{[i=f._id]:n}=p,l=Q(p,[J(i)]);e(0,a=l)};return o.$$set=f=>{"transactions"in f&&e(1,s=f.transactions),"selectedTransactionsById"in f&&e(0,a=f.selectedTransactionsById)},[a,s,r]}class Me extends re{constructor(t){super();ce(this,t,Ie,ye,fe,{transactions:1,selectedTransactionsById:0})}}export{Me as E};
