var G=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var J=o=>typeof o=="symbol"?o:o+"",Q=(o,t)=>{var e={};for(var s in o)ie.call(o,s)&&t.indexOf(s)<0&&(e[s]=o[s]);if(o!=null&&G)for(var s of G(o))t.indexOf(s)<0&&oe.call(o,s)&&(e[s]=o[s]);return e};import{S as re,i as ce,s as fe,e as v,k as A,t as P,c as g,a as b,m as B,h as C,d as h,b as k,a1 as E,g as R,H as m,R as _e,T as ue,j as L,a5 as V,q as M,a8 as te,a9 as W,aa as N,n as ae,o as K,p as se,ab as de,ac as he,ad as me,ae as pe,af as ve,V as ge,U as be,ag as ke,N as ye,ah as Ee,ai as X}from"./vendor-7e985693.js";import{f as Y}from"./stores-fe9cc44b.js";import{l as Se}from"./longpress-a7a6c534.js";function Z(o,t,e){const s=o.slice();return s[3]=t[e],s}function x(o){let t,e=o[3].comment+"",s;return{c(){t=v("div"),s=P(e),this.h()},l(a){t=g(a,"DIV",{class:!0});var r=b(t);s=C(r,e),r.forEach(h),this.h()},h(){k(t,"class","text-base opacity-80")},m(a,r){R(a,t,r),m(t,s)},p(a,r){r&2&&e!==(e=a[3].comment+"")&&L(s,e)},d(a){a&&h(t)}}}function $(o){let t,e,s;return{c(){t=v("span"),this.h()},l(a){t=g(a,"SPAN",{class:!0}),b(t).forEach(h),this.h()},h(){k(t,"class","bg-background absolute right-2 top-2 h-4 w-4 rounded-full")},m(a,r){R(a,t,r),s=!0},i(a){s||(te(()=>{e||(e=W(t,N,{},!0)),e.run(1)}),s=!0)},o(a){e||(e=W(t,N,{},!1)),e.run(0),s=!1},d(a){a&&h(t),a&&e&&e.end()}}}function ee(o,t){let e,s,a,r,f=Y(t[3].value,{showSign:!1})+"",n,l,i,p=V.fromSeconds(t[3].date).toLocaleString(V.DATETIME_SHORT)+"",T,j,I,le,w,S,q,H=ye,y,O,U,u=t[3].comment&&x(t),c=t[0][t[3]._id]&&$();function ne(){return t[2](t[3])}return{key:o,first:null,c(){e=v("div"),u&&u.c(),s=A(),a=v("div"),r=v("span"),n=P(f),l=A(),i=v("span"),T=P(p),j=A(),c&&c.c(),I=A(),this.h()},l(d){e=g(d,"DIV",{class:!0});var _=b(e);u&&u.l(_),s=B(_),a=g(_,"DIV",{class:!0});var D=b(a);r=g(D,"SPAN",{class:!0});var z=b(r);n=C(z,f),z.forEach(h),l=B(D),i=g(D,"SPAN",{class:!0});var F=b(i);T=C(F,p),F.forEach(h),D.forEach(h),j=B(_),c&&c.l(_),I=B(_),_.forEach(h),this.h()},h(){k(r,"class","font-mono font-semibold"),k(i,"class","opacity-80"),k(a,"class","flex justify-between text-sm"),k(e,"class","space-y-2 self-stretch rounded-3xl p-4 svelte-2jtqs4"),E(e,"in",t[3].value>=0),E(e,"out",t[3].value<0),E(e,"selected",t[0][t[3]._id]),this.first=e},m(d,_){R(d,e,_),u&&u.m(e,null),m(e,s),m(e,a),m(a,r),m(r,n),m(a,l),m(a,i),m(i,T),m(e,j),c&&c.m(e,null),m(e,I),y=!0,O||(U=[_e(le=Se.call(null,e,300)),ue(e,"longpress",ne)],O=!0)},p(d,_){t=d,t[3].comment?u?u.p(t,_):(u=x(t),u.c(),u.m(e,s)):u&&(u.d(1),u=null),(!y||_&2)&&f!==(f=Y(t[3].value,{showSign:!1})+"")&&L(n,f),(!y||_&2)&&p!==(p=V.fromSeconds(t[3].date).toLocaleString(V.DATETIME_SHORT)+"")&&L(T,p),t[0][t[3]._id]?c?_&3&&M(c,1):(c=$(),c.c(),M(c,1),c.m(e,I)):c&&(ae(),K(c,1,1,()=>{c=null}),se()),_&2&&E(e,"in",t[3].value>=0),_&2&&E(e,"out",t[3].value<0),_&3&&E(e,"selected",t[0][t[3]._id])},r(){q=e.getBoundingClientRect()},f(){de(e),H(),he(e,q)},a(){H(),H=me(e,q,Ee,{})},i(d){y||(M(c),d&&te(()=>{S&&S.end(1),w=pe(e,N,{easing:X}),w.start()}),y=!0)},o(d){K(c),w&&w.invalidate(),d&&(S=ve(e,N,{easing:X})),y=!1},d(d){d&&h(e),u&&u.d(),c&&c.d(),d&&S&&S.end(),O=!1,ge(U)}}}function Te(o){let t,e=[],s=new Map,a,r=o[1];const f=n=>n[3]._id;for(let n=0;n<r.length;n+=1){let l=Z(o,r,n),i=f(l);s.set(i,e[n]=ee(i,l))}return{c(){t=v("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=g(n,"DIV",{class:!0});var l=b(t);for(let i=0;i<e.length;i+=1)e[i].l(l);l.forEach(h),this.h()},h(){k(t,"class","flex w-full flex-col space-y-3")},m(n,l){R(n,t,l);for(let i=0;i<e.length;i+=1)e[i].m(t,null);a=!0},p(n,[l]){if(l&3){r=n[1],ae();for(let i=0;i<e.length;i+=1)e[i].r();e=be(e,l,f,1,n,r,s,t,ke,ee,null,Z);for(let i=0;i<e.length;i+=1)e[i].a();se()}},i(n){if(!a){for(let l=0;l<r.length;l+=1)M(e[l]);a=!0}},o(n){for(let l=0;l<e.length;l+=1)K(e[l]);a=!1},d(n){n&&h(t);for(let l=0;l<e.length;l+=1)e[l].d()}}}function Ie(o,t,e){let{transactions:s=[]}=t,{selectedTransactionsById:a={}}=t;const r=f=>{var i;if(!a[f._id]){e(0,a[f._id]=f,a);return}const p=a,{[i=f._id]:n}=p,l=Q(p,[J(i)]);e(0,a=l)};return o.$$set=f=>{"transactions"in f&&e(1,s=f.transactions),"selectedTransactionsById"in f&&e(0,a=f.selectedTransactionsById)},[a,s,r]}class Ve extends re{constructor(t){super();ce(this,t,Ie,Te,fe,{transactions:1,selectedTransactionsById:0})}}export{Ve as E};
