import{S as H,i as L,s as M,ax as R,e as l,w as A,k,t as O,c,a as b,x as G,d,m as x,h as P,b as t,g as J,H as e,y as K,T as F,ay as Q,N as W,q as X,o as Y,B as Z,V as ee}from"../chunks/vendor-4d7ef4b9.js";function te(w){let a,i,o,y,s,p,_,I,g,$,D,n,h,E,m,B,f,N,T,C,U;return o=new R({props:{size:"30"}}),{c(){a=l("div"),i=l("button"),A(o.$$.fragment),y=k(),s=l("div"),p=l("h1"),_=O("These settings serve to connect to a notion page and are very experimental"),I=k(),g=l("p"),$=O(`The settings will disappear when you come back because they should be kept
      secret`),D=k(),n=l("form"),h=l("input"),E=k(),m=l("input"),B=k(),f=l("button"),N=O("Save"),this.h()},l(r){a=c(r,"DIV",{class:!0});var u=b(a);i=c(u,"BUTTON",{class:!0});var V=b(i);G(o.$$.fragment,V),V.forEach(d),y=x(u),s=c(u,"DIV",{});var S=b(s);p=c(S,"H1",{class:!0});var j=b(p);_=P(j,"These settings serve to connect to a notion page and are very experimental"),j.forEach(d),I=x(S),g=c(S,"P",{class:!0});var q=b(g);$=P(q,`The settings will disappear when you come back because they should be kept
      secret`),q.forEach(d),S.forEach(d),D=x(u),n=c(u,"FORM",{class:!0});var v=b(n);h=c(v,"INPUT",{class:!0,name:!0,placeholder:!0,type:!0}),E=x(v),m=c(v,"INPUT",{class:!0,name:!0,placeholder:!0,type:!0}),B=x(v),f=c(v,"BUTTON",{class:!0,type:!0});var z=b(f);N=P(z,"Save"),z.forEach(d),v.forEach(d),u.forEach(d),this.h()},h(){t(i,"class","btn btn-ghost btn-circle btn-sm"),t(p,"class","text-2xl"),t(g,"class","text-sm"),t(h,"class","input"),t(h,"name","token"),t(h,"placeholder","Token"),t(h,"type","text"),t(m,"class","input"),t(m,"name","pageId"),t(m,"placeholder","Page ID"),t(m,"type","text"),t(f,"class","btn btn-primary self-end"),t(f,"type","submit"),t(n,"class","flex flex-col space-y-4"),t(a,"class","space-y-10 p-8 text-neutral-content")},m(r,u){J(r,a,u),e(a,i),K(o,i,null),e(a,y),e(a,s),e(s,p),e(p,_),e(s,I),e(s,g),e(g,$),e(a,D),e(a,n),e(n,h),e(n,E),e(n,m),e(n,B),e(n,f),e(f,N),T=!0,C||(U=[F(i,"click",w[0]),F(n,"submit",Q(w[1]))],C=!0)},p:W,i(r){T||(X(o.$$.fragment,r),T=!0)},o(r){Y(o.$$.fragment,r),T=!1},d(r){r&&d(a),Z(o),C=!1,ee(U)}}}function ae(w){return[()=>{window.history.back()},async o=>{const y=new FormData(o.target),s=Object.fromEntries(y);if(s.token&&s.pageId){localStorage.setItem("token",s.token),localStorage.setItem("pageId",s.pageId);const{transactionsDatabaseId:p,envelopesDatabaseId:_}=await fetch(`${config.apiEndpoint}notion-databases`,{headers:{pageId:s.pageId,authorization:s.token}}).then(async I=>await I.json());localStorage.setItem("transactionsDatabaseId",p),localStorage.setItem("envelopesDatabaseId",_),window.history.back()}}]}class ne extends H{constructor(a){super();L(this,a,ae,te,M,{})}}export{ne as default};
